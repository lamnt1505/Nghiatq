<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Admin Manage</title>
<!-- plugins:css -->
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/ionicons/css/ionicons.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/typicons/src/font/typicons.css">
<link rel="stylesheet"
	href="../assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
<link rel="stylesheet"
	href="../assets/vendors/css/vendor.bundle.base.css">
<link rel="stylesheet"
	href="../assets/vendors/css/vendor.bundle.addons.css">
<!-- endinject -->
<!-- plugin css for this page -->
<!-- End plugin css for this page -->
<!-- inject:css -->
<link rel="stylesheet" th:href="@{/assets/css/shared/style.css}">
<!-- endinject -->
<!-- Layout styles -->
<link rel="stylesheet" th:href="@{/assets/css/demo_1/style.css}">
<!-- End Layout styles 
<link rel="shortcut icon" href="/assets/images/favicon.png" />
-->
<link rel="icon" href="/images/logo_s.png" type="image/x-icon">
	<style>
		.table td {
			max-width: 200px;
			white-space: normal;
		}
	</style>
<script src="https://code.jquery.com/jquery-3.4.1.js"
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	crossorigin="anonymous"></script>
</head>
<body>
	<div class="container-scroller">
		<!-- partial:partials/_navbar.html -->
		<nav
			class="navbar default-layout col-lg-12 col-12 p-0 fixed-top d-flex flex-row"
			th:replace="manager/fragment/listNav::nav"></nav>
		<!-- partial -->
		<div class="container-fluid page-body-wrapper">
			<!-- partial:partials/_sidebar.html -->
			<nav class="sidebar sidebar-offcanvas" id="sidebar"
				th:replace="manager/fragment/listNav_1::nav_1"></nav>
			<div class="main-panel">
				<div class="content-wrapper">
					<div class="row">
						<div class="col-lg-12 grid-margin stretch-card">
							<div class="card">
								<div class="card-body">
									<!--thêm mới thành công đưa ra tb th:if="${success}"-->
									<div th:if="${success}"
										class="row alert alert-success alert-dismissible"
										style="width: 850px; margin-left: 150px;">
										<button type="button" class="close" data-dismiss="alert"
											aria-label="Close">
											<span aria-hidden="true">×</span>
										</button>
										<!--lấy tb từ addFlashAttribute adduser controller-->
										<span th:text="${success}"></span>
									</div>
									<h4 class="card-title">Danh Sách Tài Khoản</h4>
									<p class="card-description">
										<!--sd th:href liên kết đến action manager/addUser controller-->
										<a class="btn btn-inverse-success btn-fw"
											th:href="@{/manager/addUser}">Tạo tài khoản mới</a>
									</p>
									<table id="dataTable-listProduct" class="table table-hover">
										<thead>
											<tr>
												<th>Họ và tên</th>
												<th>Avatar</th>
												<th>Giới tính</th>
												<th>Ngày sinh</th>
												<th>Số điện thoại</th>
												<th>Chức danh</th>
												<th>Địa chỉ</th>
												<th></th>
											</tr>
										</thead>
										<tbody id="dataForm">
													<!--sử dụng th:each để duyệt mảng-->
													<!--sử dụng th:text để hiển thị mô tả từng dòng của list box-->
											<tr th:each="listuser : ${listuser}">
												<td th:text="${listuser.fullname}"></td>
												<td>
													<img id="anh"
													th:src="@{'data:image/png;base64,' + ${listuser.getImageBase64()}}">
												</td>
												<td th:text="${listuser.gender} ? 'Nữ' : 'Nam'">
												<td th:text="${listuser.birthday}"></td>
												<td th:text="${listuser.phone}"></td>
												<td th:text="${listuser.role} ?'Nhân viên':'Admin'"></td>
												<td th:text="${listuser.address}"></td>
												<td>
													<a class="btn btn-success" 
														th:href="@{'/manager/updateUser/'+${listuser.userId}}">Cập Nhập 
													</a> 
													<!--sử dụng pt nối chuỗi + th:href liên kết đến action manager/updateuser controller-->
													<a class="btn btn-danger"
														th:href="@{'/manager/deleteUser/'+${listuser.userId}}">Xóa
													</a>
													<!--sử dụng pt nối chuỗi + th:href liên kết đến action manager/deleteuser controller-->
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
				<footer class="footer" th:replace="manager/fragment/footer::footer"></footer>
				<!-- partial -->
			</div>
			<!-- main-panel ends -->
		</div>
		<!-- page-body-wrapper ends -->
	</div>
	<!-- container-scroller -->
	<!-- plugins:js -->
	<script src="../assets/vendors/js/vendor.bundle.base.js"></script>
	<script src="../assets/vendors/js/vendor.bundle.addons.js"></script>
	<!-- endinject -->
	<!-- Plugin js for this page-->
	<!-- End plugin js for this page-->
	<!-- inject:js -->
	<script src="../assets/js/shared/off-canvas.js"></script>
	<script src="../assets/js/shared/misc.js"></script>
	<!-- endinject -->
	<!-- Custom js for this page-->
	<script src="../assets/js/demo_1/dashboard.js"></script>
	<!-- End custom js for this page-->
	<!-- DataTables -->
	<script th:src="@{/assets/vendors/datatables/jquery.dataTables.js}"></script>
	<script th:src="@{/assets/vendors/datatables/dataTables.bootstrap4.js}"></script>
</body>
</html>